<div class="w-full max-w-6xl p-4 sm:p-6 lg:p-8 space-y-6 bg-white rounded-lg shadow-md my-8">
  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
    <div>
      <h2 class="text-2xl font-bold text-gray-800">Image Management</h2>
      <p class="text-sm text-gray-500">Upload new images for the website. Previews are shown below.</p>
    </div>
    <button (click)="logout()"
      class="w-full sm:w-auto px-4 py-2 font-semibold text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
      Logout
    </button>
  </div>

  <div class="p-4 text-sm text-yellow-800 bg-yellow-50 border-l-4 border-yellow-400" role="alert">
    <p class="font-bold">Important Notice</p>
    <p>This dashboard is a preview tool. After uploading, you must manually replace the files in the project's <code class="font-mono bg-yellow-200 px-1 rounded">src/assets/images</code> folder with your new images, ensuring the filenames match exactly. You must then redeploy the application for changes to go live.</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (image of images(); track image.id) {
      <div class="bg-gray-50 rounded-lg border border-gray-200 p-4 flex flex-col justify-between">
        <div>
          <p class="font-semibold text-gray-700">{{ image.description }}</p>
          <p class="text-xs text-gray-500 font-mono mb-2">Filename: {{ image.path.split('/').pop() }}</p>
          <div class="my-2 h-32 flex items-center justify-center bg-gray-200 rounded">
             @if(image.preview) {
              <img [src]="image.preview" alt="Preview" class="h-full w-full object-contain rounded">
             } @else {
              <span class="text-gray-400 text-sm">Image Preview</span>
             }
          </div>
        </div>
        <label
          class="block w-full text-center px-4 py-2 mt-2 font-medium text-sm text-white bg-orange-600 rounded-md shadow-sm hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 cursor-pointer">
          <span>Upload New Image</span>
          <input type="file" class="hidden" (change)="onFileSelected($event, image)" accept="image/png, image/jpeg">
        </label>
      </div>
    }
  </div>

</div>
